<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Certbot - Gentoo Haproxy</title>
    <meta name="description" content="Automatically enable HTTPS on your website with EFF's Certbot, deploying Let's Encrypt certificates.
">
    <link rel="stylesheet" href="/css/main.css">
    <link ref="shortcut icon" href="/favicon.ico" />
    <meta property="og:image" content="https://certbot.eff.org/images/certbot-OG.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@EFF">
    <meta name="twitter:title" content="Certbot - Gentoo Haproxy">
    <meta name="twitter:description" content="Automatically enable HTTPS on your website with EFF's Certbot, deploying Let's Encrypt certificates.
">
    <meta name="twitter:image" content="https://certbot.eff.org/images/certbot-OG.png">
    <meta name="twitter:image:alt" content="Certbot: An automatic client for enabling HTTPS on your website.">
    <script src='/js/main.js' type="text/javascript" defer="defer"></script>

    
      
        <script src='/js/instructions.js' type="text/javascript" defer="defer"></script>
      
    
</head>


  <body class="instructions">

    <nav class="main-nav fixed">
  <ul>
    <li><a href="/"><img src="/images/EFF-logo-plain.svg" alt="Electonic Frontier Foundation"></a></li>
    <li><a href="/">Home</a></li>
    <li><a href="/about/">About Certbot</a></li>
    <li><a href="/faq/">FAQ</a></li>
    <li><a href="/docs/">Documentation</a></li>
    <li><a href="/support/">Support</a></li>
    <li><a target="_blank" rel="noreferrer" href="https://github.com/certbot/certbot">Source Code</a></li>
    <li class="donate"><a target="_blank" href="https://supporters.eff.org/donate/support-work-on-certbot">donate to EFF</a></li>
    <li id="hamburger">&#x2261;</li>
  </ul>
</nav>

    <div id="shelf">
  <ul>
    <li><a href="/">Home</a></li>
    <li><a href="/about/">About Certbot</a></li>
    <li><a href="/faq/">FAQ</a></li>
    <li><a href="/docs/">Documentation</a></li>
    <li><a href="/support/">Support</a></li>
    <li><a href="https://github.com/certbot/certbot">Source Code</a></li>
    <li><a href="https://supporters.eff.org/donate/support-work-on-certbot">Donate</a></li>
    <li id="close">&times;</li>
  </ul>
</div>


    <h1>certbot instructions</h1>

    <div class="instruction-widget">
      <div class="js-only">
  <span id="using">My HTTP website is running</span>
  <select id="server-select" name="server">
    <optgroup>
      <option value="" disabled selected>Software</option>
      
        <option value="apache">Apache</option>
      
        <option value="nginx">Nginx</option>
      
        <option value="haproxy">Haproxy</option>
      
        <option value="plesk">Plesk</option>
      
        <option value="other">None of the above</option>
      
    </optgroup>
  </select>

  <span id="on">on</span>
  <select id="os-select" name="os">
    <optgroup>
      <option value="" disabled selected>System</option>
      
        <option value="sharedhost" data-distro="sharedhost" data-version="0">Web Hosting Service</option>
      
        <option value="debianjessie" data-distro="debian" data-version="8">Debian 8 (jessie)</option>
      
        <option value="debianstretch" data-distro="debian" data-version="9">Debian 9 (stretch)</option>
      
        <option value="debiantesting" data-distro="debian" data-version="10">Debian testing/unstable</option>
      
        <option value="debianother" data-distro="debian" data-version="0">Debian (other)</option>
      
        <option value="ubuntubionic" data-distro="ubuntu" data-version="18.04">Ubuntu 18.04 LTS (bionic)</option>
      
        <option value="ubuntuxenial" data-distro="ubuntu" data-version="16.04">Ubuntu 16.04 (xenial)</option>
      
        <option value="ubuntutrusty" data-distro="ubuntu" data-version="14.04">Ubuntu 14.04 (trusty)</option>
      
        <option value="ubuntuother" data-distro="ububtu" data-version="0">Ubuntu (other)</option>
      
        <option value="gentoo" data-distro="gentoo" data-version="0">Gentoo</option>
      
        <option value="arch" data-distro="arch" data-version="0">Arch Linux</option>
      
        <option value="fedora" data-distro="fedora" data-version="26">Fedora 26+</option>
      
        <option value="centos6" data-distro="centos" data-version="6">CentOS 6</option>
      
        <option value="centosrhel6" data-distro="rhel" data-version="6">RHEL 6</option>
      
        <option value="centosrhel7" data-distro="centos" data-version="7">CentOS/RHEL 7</option>
      
        <option value="freebsd" data-distro="freebsd" data-version="0">FreeBSD</option>
      
        <option value="opbsd" data-distro="opbsd" data-version="5.9">OpenBSD 5.9</option>
      
        <option value="opbsd" data-distro="opbsd" data-version="6">OpenBSD 6.0+</option>
      
        <option value="opbsd" data-distro="auto" data-version="0">OpenBSD (other)</option>
      
        <option value="osx" data-distro="macos" data-version="10">macOS</option>
      
        <option value="devuanascii" data-distro="devuan" data-version="2">Devuan ASCII 2.0</option>
      
        <option value="devuanjessie" data-distro="devuan" data-version="1">Devuan Jessie 1.0</option>
      
        <option value="devuanother" data-distro="devuan" data-version="3">Devuan testing/unstable</option>
      
        <option value="tumbleweed" data-distro="opensuse" data-version="0">openSUSE Tumbleweed</option>
      
        <option value="leap" data-distro="opensuse" data-version="15.0">openSUSE Leap 15.0</option>
      
        <option value="pip" data-distro="python" data-version="0">Other UNIX</option>
      
        <option value="nonunix" data-distro="nonunix" data-version="0">Non-UNIX</option>
      
    </optgroup>
  </select>
</div>

<div class="no-js-only">
  No javascript? See all setup instructions <a href="/all-instructions">here</a>. Read the full documentation <a href="/docs/">here</a>.
</div>

    </div>
    
    <div class="page-content">
      <div class="wrapper">
        <div class="instructions content">
          <h2 id="instructions-header"><a href="/lets-encrypt/gentoo-haproxy.html">Haproxy on Gentoo</a></h2>
<div class="tab automated active">default</div>
<div class="tab advanced">wildcard certificate</div>

<div class="instruction-pane-wrapper">
  <div class="instruction-pane automated">
    <ol>
      
      <li>
          SSH into the server
          <p>SSH into the server running your HTTP website as a user with sudo privileges.</p>
      </li>
      <p>
      The Certbot client is available in Gentoo Portage. (Run the package-management commands below with <tt>sudo</tt> if not running as root.)
      </p>

      <pre>
      $ emerge -av app-crypt/certbot
      </pre>
      <p>
      Certbot supports a number of different “plugins” that can be used to obtain and/or install certificates.
      </p>
      <p>
      Since your server architecture doesn't yet officially  support automatic
      installation you should probably use the <tt>certonly</tt> command to obtain your
      certificate.
      </p>
      <pre>$ sudo certbot certonly</pre>
      <p>
      This will allow you interactively select the plugin and options used to obtain
      your certificate. If you already have a webserver running, we recommend
      choosing the <a href="/docs/using.html#webroot">"webroot" plugin</a>.
      </p>
      <p>
      Alternatively, you can specify more information on the command line.
      </p>
      <p>
      To obtain a cert using the <a href="/docs/using.html#webroot">"webroot" plugin</a>,
      which can work with the webroot directory of any webserver software:
      </p>
      <pre>
      $ sudo certbot certonly --webroot -w /var/www/example -d example.com -d www.example.com -w /var/www/thing -d thing.is -d m.thing.is
      </pre>
      <p>
      This command will obtain a single cert for <tt>example.com</tt>,
      <tt>www.example.com</tt>, <tt>thing.is</tt>, and <tt>m.thing.is</tt>; it will
      place files below <tt>/var/www/example</tt> to prove control of the first two
      domains, and under <tt>/var/www/thing</tt> for the second pair.
      </p>
      <aside class="note">
              <h4>Note:</h4>
                  <p>To use the webroot plugin, your server must be configured to serve files from hidden directories. If /.well-known is treated specially by your webserver configuration, you might need to modify the configuration to ensure that files inside /.well-known/acme-challenge are served by the webserver.</p>
      </aside>
      <p>
      To obtain a cert using a built-in “standalone” webserver (you may need to
      temporarily stop your existing webserver, if any) for <tt>example.com</tt> and
      <tt>www.example.com</tt>:
      </p>
      <pre>
      $ sudo certbot certonly --standalone -d example.com -d www.example.com
      </pre>


      <li>
        Set up automatic renewal
        <p>
        We recommend running the following line, which will add a cron job to the default crontab.
        <pre>echo “0 0,12 * * * python -c ‘import random; import time; time.sleep(random.random() * 3600)’ &amp;&amp; certbot renew” | sudo tee -a /etc/crontab &gt; /dev/null</pre>
        </p>
      </li>

      <li>
        Confirm that Certbot worked
        <p>
        To confirm that your site is set up properly, visit https://yourwebsite.com/ in your browser and
        look for the lock icon in the URL bar.
        If you want to check that you have the top-of-the-line installation, you can head to
        <a href="https://www.ssllabs.com/ssltest/">https://www.ssllabs.com/ssltest/</a>.
        <!-- button with "check your site’s [icon] https:// at SSL Labs" -->
        </p>
      </li>



      <h2>Installing a cert in HAProxy</h2>
      <br />
      <p>
      Certificate installation with HAProxy is complicated; you probably want to follow one of these guides.
      </p>
      <p>
      <a href="https://www.digitalocean.com/community/tutorials/how-to-secure-haproxy-with-let-s-encrypt-on-ubuntu-14-04">Digital Ocean's guide</a>
      </p>

      <p>or</p>

      <p>
      <a href="https://skarlso.github.io/2017/02/15/how-to-https-with-hugo-letsencrypt-haproxy/">Skarlso's guide</a>
      </p>

      <p>
      Or you might be interested in using the experimental <a href="https://code.greenhost.net/open/letsencrypt-haproxy">third-party HAProxy plugin</a> from Greenhost.
      </p>

    </ol>
    </div>
  </div>

<div class="instruction-pane advanced">
    <ol>
      <!-- Repurposed the #advanced tag to mean "show wildcard info" -->
      <li>
          <h2>Not supported</h2>
          If your DNS provider is not supported, pause here: run Certbot in Docker by using
          <a href="https://certbot.eff.org/docs/install.html#running-with-docker">these
          steps from our documentation</a>.
      </li>

      <li>
          SSH into the server
          <p>SSH into the server running your HTTP website as a user with sudo privileges.</p>
      </li>
      <p>
      The Certbot client is available in Gentoo Portage. (Run the package-management commands below with <tt>sudo</tt> if not running as root.)
      </p>

      <pre>
      $ emerge -av app-crypt/certbot
      </pre>
      <!-- Repurposed the #advanced tag to mean "show wildcard info" -->
      <li>
          <h2>Not supported</h2>
          If your DNS provider is not supported, pause here: run Certbot in Docker by using
          <a href="https://certbot.eff.org/docs/install.html#running-with-docker">these
          steps from our documentation</a>.
      </li>
      <p>
      Certbot supports a number of different “plugins” that can be used to obtain and/or install certificates.
      </p>
      <p>
      Since your server architecture doesn't yet officially  support automatic
      installation you should probably use the <tt>certonly</tt> command to obtain your
      certificate.
      </p>
      <pre>$ sudo certbot certonly</pre>
      <p>
      This will allow you interactively select the plugin and options used to obtain
      your certificate. If you already have a webserver running, we recommend
      choosing the <a href="/docs/using.html#webroot">"webroot" plugin</a>.
      </p>
      <p>
      Alternatively, you can specify more information on the command line.
      </p>
      <p>
      To obtain a cert using the <a href="/docs/using.html#webroot">"webroot" plugin</a>,
      which can work with the webroot directory of any webserver software:
      </p>
      <pre>
      $ sudo certbot certonly --webroot -w /var/www/example -d example.com -d www.example.com -w /var/www/thing -d thing.is -d m.thing.is
      </pre>
      <p>
      This command will obtain a single cert for <tt>example.com</tt>,
      <tt>www.example.com</tt>, <tt>thing.is</tt>, and <tt>m.thing.is</tt>; it will
      place files below <tt>/var/www/example</tt> to prove control of the first two
      domains, and under <tt>/var/www/thing</tt> for the second pair.
      </p>
      <aside class="note">
              <h4>Note:</h4>
                  <p>To use the webroot plugin, your server must be configured to serve files from hidden directories. If /.well-known is treated specially by your webserver configuration, you might need to modify the configuration to ensure that files inside /.well-known/acme-challenge are served by the webserver.</p>
      </aside>
      <p>
      To obtain a cert using a built-in “standalone” webserver (you may need to
      temporarily stop your existing webserver, if any) for <tt>example.com</tt> and
      <tt>www.example.com</tt>:
      </p>
      <pre>
      $ sudo certbot certonly --standalone -d example.com -d www.example.com
      </pre>


      <li>
        Set up automatic renewal
        <p>
        We recommend running the following line, which will add a cron job to the default crontab.
        <pre>echo “0 0,12 * * * python -c ‘import random; import time; time.sleep(random.random() * 3600)’ &amp;&amp; certbot renew” | sudo tee -a /etc/crontab &gt; /dev/null</pre>
        </p>
      </li>

      <li>
        Confirm that Certbot worked
        <p>
        To confirm that your site is set up properly, visit https://yourwebsite.com/ in your browser and
        look for the lock icon in the URL bar.
        If you want to check that you have the top-of-the-line installation, you can head to
        <a href="https://www.ssllabs.com/ssltest/">https://www.ssllabs.com/ssltest/</a>.
        <!-- button with "check your site’s [icon] https:// at SSL Labs" -->
        </p>
      </li>



      <h2>Installing a cert in HAProxy</h2>
      <br />
      <p>
      Certificate installation with HAProxy is complicated; you probably want to follow one of these guides.
      </p>
      <p>
      <a href="https://www.digitalocean.com/community/tutorials/how-to-secure-haproxy-with-let-s-encrypt-on-ubuntu-14-04">Digital Ocean's guide</a>
      </p>

      <p>or</p>

      <p>
      <a href="https://skarlso.github.io/2017/02/15/how-to-https-with-hugo-letsencrypt-haproxy/">Skarlso's guide</a>
      </p>

      <p>
      Or you might be interested in using the experimental <a href="https://code.greenhost.net/open/letsencrypt-haproxy">third-party HAProxy plugin</a> from Greenhost.
      </p>

    </ol>
  </div>

<div class="three">
      <figure>
        <a href="/docs/">
        <figcaption>
          <p>Documentation</p>
        </figcaption>
        <img src="/images/documentation-icon.svg" />
        </a>
      </figure>
      <figure>
        <a href="/support/">
        <figcaption>
          <p>Support</p>
        </figcaption>
        <img src="/images/support-icon.svg" />
        </a>
      </figure>
      <figure>
        <a href="https://github.com/certbot/certbot">
        <figcaption>
          <p>Source</p>
        </figcaption>
        <img src="/images/github-mark.png" />
        </a>
      </figure>
    </div>
<p>&lt;/div&gt;</p>

        </div>
      </div>
    </div>
    
    <footer class="social">
  <ul>
    <li><a href="https://www.facebook.com/share.php?u=https%3A%2F%2Fcertbot.eff.org&amp;title=Certbot" target="_blank" rel="noreferrer"><i class="icon-facebook"></i></a></li>
    <li><a href="https://twitter.com/intent/tweet?text=Check%20out%20Certbot%2C%20an%20%40EFF%20tool%20that%20makes%20it%20easy%20to%20get%20and%20configure%20HTTPS%20with%20Let%27s%20Encrypt%20certificates&amp;url=https%3A%2F%2Fcertbot.eff.org&amp;related=eff" target="_blank" rel="noreferrer"><i class="icon-twitter"></i></a></li>
    <li><a href="https://plus.google.com/share?url=https%3A%2F%2Fcertbot.eff.org" target="_blank" rel="noreferrer"><i class="icon-google"></i></a></li>
  </ul>
</footer>

    <footer class="footer">

  <a target="_blank" href="https://www.eff.org"><img class="project-of" src="/images/EFF-bw-logo-white.svg" alt="Electronic Frontier Foundation"></a>

  <ul>
    <li><a href="/privacy">Privacy</a></li>
    <li><a href="/support">Contact</a></li>
    <li><a target="_blank" rel="noreferrer" href="https://letsencrypt.org/" class="letsencrypt">Let's Encrypt&trade;</a></li>
    
      <li><a target="_blank" href="https://www.eff.org/copyright"><img src="/images/cc-by-logo.png" alt="Creative Commons Attribution License"></a></li>
    

  </ul>

<noscript><img src="https://anon-stats.eff.org/js/?idsite=24&amp;rec=1&amp;action_name=" style="border:0" height="0" width="0" alt="" /></noscript>
<div style="height: 0; width: 0; position: absolute" id="anon-stats"></div>
<script type="text/javascript">
document.getElementById('anon-stats').innerHTML = '<img src="https://anon-stats.eff.org/js/?idsite=24&amp;rec=1&amp;urlref=' + encodeURIComponent(document.referrer) + '&amp;action_name=' + encodeURIComponent(document.title) + '" style="border:0" height="0" width="0" alt="" />';
</script>

</footer>

    
    
  </body>

</html>
